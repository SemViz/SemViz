<html>

<body>
  <div id="div1"></div>
  <div id="div2"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.1.0/webcomponents-lite.js"></script>

</body>
<script>
  fetch("https://raw.githubusercontent.com/assemblee-virtuelle/PWA-ConfigSemViz/master/config.json").then(function(response) {
    //injectionconsole.log(response);
    return response.json();
  }).then(function(data) {
    //console.log(data);
    for (injection of data.injection) {
      //console.log(injection);
      let doms = document.querySelectorAll(injection.selector);
      //console.log(doms);
      for (dom of doms) {
        console.log(dom);
        let importFile = document.createElement('link');
        //importFile.setAttribut('rel','import');
        // importFile.setAttribut('href',injection.componentUrl);
        importFile.rel='import';
        importFile.href=injection.componentUrl;
        //let node = document.importNode(injection.componentUrl, true);
        //dom.appendChild(importFile);
        document.head.appendChild(importFile);

        let domComponent = document.createElement(injection.componentTag);
        dom.appendChild(domComponent);
        //dom.innerHTML = injection.html
      }
    }
  }).catch(function(e) {
    console.log("config Load Fail", e);
  });
</script>
<html>
